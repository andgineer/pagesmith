{"uid":"5a1559837c4c5cd3","name":"test_refine_html_structure[remove_head-<html><head><title>Test</title></head><body><p>Hello, world!</p></body></html>-<p>Hello, world!</p>]","fullName":"tests.test_refine_html#test_refine_html_structure","historyId":"40323b0d97bdd32f13bd32ef03c539cf","time":{"start":1748439746022,"stop":1748439746023,"duration":1},"description":"Test HTML structure cleaning functionality.","descriptionHtml":"<p>Test HTML structure cleaning functionality.</p>\n","status":"failed","statusMessage":"AssertionError: assert '<html>Test<p...d!</p></html>' == '<p>Hello, world!</p>'\n  \n  - <p>Hello, world!</p>\n  + <html>Test<p>Hello, world!</p></html>","statusTrace":"test_id = 'remove_head'\ninput_html = '<html><head><title>Test</title></head><body><p>Hello, world!</p></body></html>'\nexpected_output = '<p>Hello, world!</p>'\n\n    @allure.epic(\"Clear HTML\")\n    @pytest.mark.parametrize(\n        \"test_id, input_html, expected_output\",\n        [\n            # Basic structure cleaning tests\n            (\n                \"remove_head\",\n                \"<html><head><title>Test</title></head><body><p>Hello, world!</p></body></html>\",\n                \"<p>Hello, world!</p>\",\n            ),\n            (\n                \"escape_unknown_tags\",\n                '<header class=\"\"><section class=\"header-top py-1\">some header</section>in header</header>',\n                \"some headerin header\",\n            ),\n            (\n                \"unwraps_tags\",\n                \"<html><body><span><p>Hello, world!</p></span></body></html>\",\n                \"<span><p>Hello, world!</p></span>\",\n            ),\n            (\n                \"remove_script_tags\",\n                \"<div><script>alert('test');</script><p>Content</p></div>\",\n                \"<div><p>Content</p></div>\",\n            ),\n            (\n                \"remove_style_tags\",\n                \"<div><style>.test { color: red; }</style><p>Content</p></div>\",\n                \"<div><p>Content</p></div>\",\n            ),\n            (\n                \"remove_iframe\",\n                \"<div><iframe src='https://example.com'></iframe><p>Content</p></div>\",\n                \"<div><p>Content</p></div>\",\n            ),\n            (\n                \"web page\",\n                \"\"\"\n                <!DOCTYPE html>\n                <html>\n                <head>\n                    <title>Tag Links Page</title>\n                </head>\n                <body>\n                    <h1>Page with Tag Links</h1>\n                    <a rel=\"tag\" href=\"/tag/test\">Test Tag</a>\n                    <a rel=\"tag\" href=\"/tag/metadata\">Metadata Tag</a>\n                </body>\n                </html>\n                \"\"\",\n                \"\"\"<h1 class=\"display-4 fw-semibold text-primary mb-4\">Page with Tag Links</h1> <a rel=\"tag\" href=\"/tag/test\">Test Tag</a> <a rel=\"tag\" href=\"/tag/metadata\">Metadata Tag</a>\"\"\",\n            ),\n        ],\n    )\n    def test_refine_html_structure(test_id, input_html, expected_output):\n        \"\"\"Test HTML structure cleaning functionality.\"\"\"\n>       assert refine_html(input_html) == expected_output\nE       AssertionError: assert '<html>Test<p...d!</p></html>' == '<p>Hello, world!</p>'\nE         \nE         - <p>Hello, world!</p>\nE         + <html>Test<p>Hello, world!</p></html>\n\ntests/test_refine_html.py:66: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"afterStages":[],"labels":[{"name":"epic","value":"Clear HTML"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_refine_html"},{"name":"host","value":"fv-az1372-936"},{"name":"thread","value":"2511-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_refine_html"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"expected_output","value":"'<p>Hello, world!</p>'"},{"name":"input_html","value":"'<html><head><title>Test</title></head><body><p>Hello, world!</p></body></html>'"},{"name":"test_id","value":"'remove_head'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":28,"unknown":0,"total":29},"items":[{"uid":"1d544b7c52f5b092","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/45/index.html#testresult/1d544b7c52f5b092","status":"passed","time":{"start":1747974107063,"stop":1747974107064,"duration":1}},{"uid":"e7b82e5da0ab555a","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/44/index.html#testresult/e7b82e5da0ab555a","status":"passed","time":{"start":1747973991798,"stop":1747973991799,"duration":1}},{"uid":"7ab0e51f91a05ade","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/43/index.html#testresult/7ab0e51f91a05ade","status":"passed","time":{"start":1747973102708,"stop":1747973102709,"duration":1}},{"uid":"8daa8ce361c2661d","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/42/index.html#testresult/8daa8ce361c2661d","status":"passed","time":{"start":1747972416675,"stop":1747972416676,"duration":1}},{"uid":"f2b4bcb8a21602ec","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/41/index.html#testresult/f2b4bcb8a21602ec","status":"passed","time":{"start":1747972253794,"stop":1747972253795,"duration":1}},{"uid":"6c9d76b4575e4978","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/40/index.html#testresult/6c9d76b4575e4978","status":"passed","time":{"start":1747885747495,"stop":1747885747496,"duration":1}},{"uid":"438be8cd3892291d","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/39/index.html#testresult/438be8cd3892291d","status":"passed","time":{"start":1747885667523,"stop":1747885667524,"duration":1}},{"uid":"dde43e5c9bc5aee7","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/38/index.html#testresult/dde43e5c9bc5aee7","status":"passed","time":{"start":1747654265361,"stop":1747654265362,"duration":1}},{"uid":"17f595dd14660e33","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/37/index.html#testresult/17f595dd14660e33","status":"passed","time":{"start":1747654099643,"stop":1747654099644,"duration":1}},{"uid":"3dbe5c54cc8161c6","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/36/index.html#testresult/3dbe5c54cc8161c6","status":"passed","time":{"start":1747653324714,"stop":1747653324715,"duration":1}},{"uid":"ae0ad29a9c248812","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/35/index.html#testresult/ae0ad29a9c248812","status":"passed","time":{"start":1747652944418,"stop":1747652944419,"duration":1}},{"uid":"bb9fdc4d4cb249df","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/34/index.html#testresult/bb9fdc4d4cb249df","status":"passed","time":{"start":1747554145928,"stop":1747554145929,"duration":1}},{"uid":"69f616f36007886","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/33/index.html#testresult/69f616f36007886","status":"passed","time":{"start":1747553559600,"stop":1747553559601,"duration":1}},{"uid":"d0b27a94a4864677","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/32/index.html#testresult/d0b27a94a4864677","status":"passed","time":{"start":1747488467812,"stop":1747488467813,"duration":1}},{"uid":"6b03d2274473373b","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/31/index.html#testresult/6b03d2274473373b","status":"passed","time":{"start":1747488230598,"stop":1747488230599,"duration":1}},{"uid":"7f61473ca2d294fb","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/30/index.html#testresult/7f61473ca2d294fb","status":"passed","time":{"start":1747479519231,"stop":1747479519232,"duration":1}},{"uid":"ef4d87f0a08dc534","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/29/index.html#testresult/ef4d87f0a08dc534","status":"passed","time":{"start":1747479246686,"stop":1747479246687,"duration":1}},{"uid":"25375ce68aa500d7","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/28/index.html#testresult/25375ce68aa500d7","status":"passed","time":{"start":1747371770736,"stop":1747371770737,"duration":1}},{"uid":"60c93af515c713fc","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/27/index.html#testresult/60c93af515c713fc","status":"passed","time":{"start":1747285625128,"stop":1747285625129,"duration":1}},{"uid":"1fced8eac5e8caac","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/26/index.html#testresult/1fced8eac5e8caac","status":"passed","time":{"start":1747209879932,"stop":1747209879933,"duration":1}}]},"tags":[]},"source":"5a1559837c4c5cd3.json","parameterValues":["'<p>Hello, world!</p>'","'<html><head><title>Test</title></head><body><p>Hello, world!</p></body></html>'","'remove_head'"]}