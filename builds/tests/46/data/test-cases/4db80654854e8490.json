{"uid":"4db80654854e8490","name":"test_refine_html_structure[unwraps_tags-<html><body><span><p>Hello, world!</p></span></body></html>-<span><p>Hello, world!</p></span>]","fullName":"tests.test_refine_html#test_refine_html_structure","historyId":"1893dab77c0f342521ead93f7ea75b61","time":{"start":1748439746063,"stop":1748439746064,"duration":1},"description":"Test HTML structure cleaning functionality.","descriptionHtml":"<p>Test HTML structure cleaning functionality.</p>\n","status":"failed","statusMessage":"AssertionError: assert '<html><span>.../span></html>' == '<span><p>Hel...d!</p></span>'\n  \n  - <span><p>Hello, world!</p></span>\n  + <html><span><p>Hello, world!</p></span></html>\n  ? ++++++                                 +++++++","statusTrace":"test_id = 'unwraps_tags'\ninput_html = '<html><body><span><p>Hello, world!</p></span></body></html>'\nexpected_output = '<span><p>Hello, world!</p></span>'\n\n    @allure.epic(\"Clear HTML\")\n    @pytest.mark.parametrize(\n        \"test_id, input_html, expected_output\",\n        [\n            # Basic structure cleaning tests\n            (\n                \"remove_head\",\n                \"<html><head><title>Test</title></head><body><p>Hello, world!</p></body></html>\",\n                \"<p>Hello, world!</p>\",\n            ),\n            (\n                \"escape_unknown_tags\",\n                '<header class=\"\"><section class=\"header-top py-1\">some header</section>in header</header>',\n                \"some headerin header\",\n            ),\n            (\n                \"unwraps_tags\",\n                \"<html><body><span><p>Hello, world!</p></span></body></html>\",\n                \"<span><p>Hello, world!</p></span>\",\n            ),\n            (\n                \"remove_script_tags\",\n                \"<div><script>alert('test');</script><p>Content</p></div>\",\n                \"<div><p>Content</p></div>\",\n            ),\n            (\n                \"remove_style_tags\",\n                \"<div><style>.test { color: red; }</style><p>Content</p></div>\",\n                \"<div><p>Content</p></div>\",\n            ),\n            (\n                \"remove_iframe\",\n                \"<div><iframe src='https://example.com'></iframe><p>Content</p></div>\",\n                \"<div><p>Content</p></div>\",\n            ),\n            (\n                \"web page\",\n                \"\"\"\n                <!DOCTYPE html>\n                <html>\n                <head>\n                    <title>Tag Links Page</title>\n                </head>\n                <body>\n                    <h1>Page with Tag Links</h1>\n                    <a rel=\"tag\" href=\"/tag/test\">Test Tag</a>\n                    <a rel=\"tag\" href=\"/tag/metadata\">Metadata Tag</a>\n                </body>\n                </html>\n                \"\"\",\n                \"\"\"<h1 class=\"display-4 fw-semibold text-primary mb-4\">Page with Tag Links</h1> <a rel=\"tag\" href=\"/tag/test\">Test Tag</a> <a rel=\"tag\" href=\"/tag/metadata\">Metadata Tag</a>\"\"\",\n            ),\n        ],\n    )\n    def test_refine_html_structure(test_id, input_html, expected_output):\n        \"\"\"Test HTML structure cleaning functionality.\"\"\"\n>       assert refine_html(input_html) == expected_output\nE       AssertionError: assert '<html><span>.../span></html>' == '<span><p>Hel...d!</p></span>'\nE         \nE         - <span><p>Hello, world!</p></span>\nE         + <html><span><p>Hello, world!</p></span></html>\nE         ? ++++++                                 +++++++\n\ntests/test_refine_html.py:66: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"afterStages":[],"labels":[{"name":"epic","value":"Clear HTML"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_refine_html"},{"name":"host","value":"fv-az1372-936"},{"name":"thread","value":"2511-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_refine_html"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"expected_output","value":"'<span><p>Hello, world!</p></span>'"},{"name":"input_html","value":"'<html><body><span><p>Hello, world!</p></span></body></html>'"},{"name":"test_id","value":"'unwraps_tags'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":28,"unknown":0,"total":29},"items":[{"uid":"f4515b19fa2bd169","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/45/index.html#testresult/f4515b19fa2bd169","status":"passed","time":{"start":1747974107071,"stop":1747974107071,"duration":0}},{"uid":"92139f06b4279659","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/44/index.html#testresult/92139f06b4279659","status":"passed","time":{"start":1747973991806,"stop":1747973991806,"duration":0}},{"uid":"fcf294605acbf9b3","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/43/index.html#testresult/fcf294605acbf9b3","status":"passed","time":{"start":1747973102716,"stop":1747973102717,"duration":1}},{"uid":"7e8159b59715711c","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/42/index.html#testresult/7e8159b59715711c","status":"passed","time":{"start":1747972416683,"stop":1747972416684,"duration":1}},{"uid":"d7f0029f3e20391f","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/41/index.html#testresult/d7f0029f3e20391f","status":"passed","time":{"start":1747972253802,"stop":1747972253802,"duration":0}},{"uid":"5f1838e8c108b983","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/40/index.html#testresult/5f1838e8c108b983","status":"passed","time":{"start":1747885747503,"stop":1747885747503,"duration":0}},{"uid":"4c4ff1d1d9deaf6d","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/39/index.html#testresult/4c4ff1d1d9deaf6d","status":"passed","time":{"start":1747885667531,"stop":1747885667532,"duration":1}},{"uid":"93a7b417b661f763","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/38/index.html#testresult/93a7b417b661f763","status":"passed","time":{"start":1747654265370,"stop":1747654265370,"duration":0}},{"uid":"7a22b5466e443a2e","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/37/index.html#testresult/7a22b5466e443a2e","status":"passed","time":{"start":1747654099651,"stop":1747654099652,"duration":1}},{"uid":"a57382cf36f36d88","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/36/index.html#testresult/a57382cf36f36d88","status":"passed","time":{"start":1747653324723,"stop":1747653324723,"duration":0}},{"uid":"260a9f9cb005bf1b","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/35/index.html#testresult/260a9f9cb005bf1b","status":"passed","time":{"start":1747652944426,"stop":1747652944427,"duration":1}},{"uid":"415a815547a43ff4","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/34/index.html#testresult/415a815547a43ff4","status":"passed","time":{"start":1747554145936,"stop":1747554145937,"duration":1}},{"uid":"5172c2c98ef2bf30","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/33/index.html#testresult/5172c2c98ef2bf30","status":"passed","time":{"start":1747553559608,"stop":1747553559608,"duration":0}},{"uid":"45070aae728f8ab","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/32/index.html#testresult/45070aae728f8ab","status":"passed","time":{"start":1747488467820,"stop":1747488467821,"duration":1}},{"uid":"7c721ea3c2c85ddc","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/31/index.html#testresult/7c721ea3c2c85ddc","status":"passed","time":{"start":1747488230606,"stop":1747488230607,"duration":1}},{"uid":"38608f9bc4110641","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/30/index.html#testresult/38608f9bc4110641","status":"passed","time":{"start":1747479519239,"stop":1747479519240,"duration":1}},{"uid":"b1b78f0e4da28466","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/29/index.html#testresult/b1b78f0e4da28466","status":"passed","time":{"start":1747479246694,"stop":1747479246695,"duration":1}},{"uid":"8829af629a71834c","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/28/index.html#testresult/8829af629a71834c","status":"passed","time":{"start":1747371770744,"stop":1747371770745,"duration":1}},{"uid":"554884e50f097a9","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/27/index.html#testresult/554884e50f097a9","status":"passed","time":{"start":1747285625136,"stop":1747285625136,"duration":0}},{"uid":"2c4c2f11b976b31d","reportUrl":"https://andgineer.github.io/pagesmith/builds/tests/26/index.html#testresult/2c4c2f11b976b31d","status":"passed","time":{"start":1747209879940,"stop":1747209879941,"duration":1}}]},"tags":[]},"source":"4db80654854e8490.json","parameterValues":["'<span><p>Hello, world!</p></span>'","'<html><body><span><p>Hello, world!</p></span></body></html>'","'unwraps_tags'"]}